{"version":3,"sources":["../node_modules/babel-preset-env/lib/normalize-options.js"],"names":["exports","_invariant","require","_invariant2","_interopRequireDefault","_builtIns","_builtIns2","_defaultIncludes","_moduleTransformations","_moduleTransformations2","_plugins","_plugins2","obj","default","validIncludesAndExcludes","Object","hasBeenWarned","validateIncludesAndExcludes","opts","arguments","type","Array","unknownOpts","normalizePluginName","plugin","normalizePluginNames","plugins","checkDuplicateIncludeExcludes","include","exclude","duplicates","validateBoolOption","value","validateLooseOption","validateSpecOption","validateModulesOption","modulesOpt","console","debug","loose","moduleType","spec","targets","useBuiltIns"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.validateModulesOption = exports.validateSpecOption = exports.validateLooseOption = exports.validateBoolOption = exports.checkDuplicateIncludeExcludes = exports.normalizePluginNames = exports.normalizePluginName = exports.validateIncludesAndExcludes = undefined;\nexports.default = normalizeOptions;\n\nvar _invariant = require(\"invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _builtIns = require(\"../data/built-ins.json\");\n\nvar _builtIns2 = _interopRequireDefault(_builtIns);\n\nvar _defaultIncludes = require(\"./default-includes\");\n\nvar _moduleTransformations = require(\"./module-transformations\");\n\nvar _moduleTransformations2 = _interopRequireDefault(_moduleTransformations);\n\nvar _plugins = require(\"../data/plugins.json\");\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validIncludesAndExcludes = [].concat(Object.keys(_plugins2.default), Object.keys(_moduleTransformations2.default).map(function (m) {\n  return _moduleTransformations2.default[m];\n}), Object.keys(_builtIns2.default), _defaultIncludes.defaultWebIncludes);\n\nvar hasBeenWarned = false;\n\nvar validateIncludesAndExcludes = exports.validateIncludesAndExcludes = function validateIncludesAndExcludes() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var type = arguments[1];\n\n  (0, _invariant2.default)(Array.isArray(opts), \"Invalid Option: The '\" + type + \"' option must be an Array<String> of plugins/built-ins\");\n\n  var unknownOpts = [];\n  opts.forEach(function (opt) {\n    if (validIncludesAndExcludes.indexOf(opt) === -1) {\n      unknownOpts.push(opt);\n    }\n  });\n\n  (0, _invariant2.default)(unknownOpts.length === 0, \"Invalid Option: The plugins/built-ins '\" + unknownOpts + \"' passed to the '\" + type + \"' option are not\\n    valid. Please check data/[plugin-features|built-in-features].js in babel-preset-env\");\n\n  return opts;\n};\n\nvar normalizePluginName = exports.normalizePluginName = function normalizePluginName(plugin) {\n  return plugin.replace(/^babel-plugin-/, \"\");\n};\n\nvar normalizePluginNames = exports.normalizePluginNames = function normalizePluginNames(plugins) {\n  return plugins.map(normalizePluginName);\n};\n\nvar checkDuplicateIncludeExcludes = exports.checkDuplicateIncludeExcludes = function checkDuplicateIncludeExcludes() {\n  var include = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var exclude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var duplicates = include.filter(function (opt) {\n    return exclude.indexOf(opt) >= 0;\n  });\n\n  (0, _invariant2.default)(duplicates.length === 0, \"Invalid Option: The plugins/built-ins '\" + duplicates + \"' were found in both the \\\"include\\\" and\\n    \\\"exclude\\\" options.\");\n};\n\nvar validateBoolOption = exports.validateBoolOption = function validateBoolOption(name, value, defaultValue) {\n  if (typeof value === \"undefined\") {\n    value = defaultValue;\n  }\n\n  if (typeof value !== \"boolean\") {\n    throw new Error(\"Preset env: '\" + name + \"' option must be a boolean.\");\n  }\n\n  return value;\n};\n\nvar validateLooseOption = exports.validateLooseOption = function validateLooseOption(looseOpt) {\n  return validateBoolOption(\"loose\", looseOpt, false);\n};\nvar validateSpecOption = exports.validateSpecOption = function validateSpecOption(specOpt) {\n  return validateBoolOption(\"spec\", specOpt, false);\n};\n\nvar validateModulesOption = exports.validateModulesOption = function validateModulesOption() {\n  var modulesOpt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"commonjs\";\n\n  (0, _invariant2.default)(modulesOpt === false || Object.keys(_moduleTransformations2.default).indexOf(modulesOpt) > -1, \"Invalid Option: The 'modules' option must be either 'false' to indicate no modules, or a\\n    module type which can be be one of: 'commonjs' (default), 'amd', 'umd', 'systemjs'.\");\n\n  return modulesOpt;\n};\n\nfunction normalizeOptions(opts) {\n  // TODO: remove whitelist in favor of include in next major\n  if (opts.whitelist && !hasBeenWarned) {\n    console.warn(\"Deprecation Warning: The \\\"whitelist\\\" option has been deprecated in favor of \\\"include\\\" to\\n      match the newly added \\\"exclude\\\" option (instead of \\\"blacklist\\\").\");\n    hasBeenWarned = true;\n  }\n\n  (0, _invariant2.default)(!(opts.whitelist && opts.include), \"Invalid Option: The \\\"whitelist\\\" and the \\\"include\\\" option are the same and one can be used at\\n    a time\");\n\n  if (opts.exclude) {\n    opts.exclude = normalizePluginNames(opts.exclude);\n  }\n\n  if (opts.whitelist || opts.include) {\n    opts.include = normalizePluginNames(opts.whitelist || opts.include);\n  }\n\n  checkDuplicateIncludeExcludes(opts.include, opts.exclude);\n\n  return {\n    debug: opts.debug,\n    exclude: validateIncludesAndExcludes(opts.exclude, \"exclude\"),\n    include: validateIncludesAndExcludes(opts.include, \"include\"),\n    loose: validateLooseOption(opts.loose),\n    moduleType: validateModulesOption(opts.modules),\n    spec: validateSpecOption(opts.spec),\n    targets: opts.targets,\n    useBuiltIns: opts.useBuiltIns\n  };\n}"],"file":"normalize-options.js"}