{"version":3,"sources":["../node_modules/babel-register/lib/cache.js"],"names":["exports","_stringify","require","_stringify2","_interopRequireDefault","_path","_path2","_fs","_fs2","_mkdirp","_homeOrTmp","_homeOrTmp2","obj","default","FILENAME","process","data","serialised","err","console","JSON"],"mappings":"AAAA;;AAEAA,OAAO,CAAPA,UAAAA,GAAAA,IAAAA;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAxB,sCAAwB,CAAxB;;AAEA,IAAIC,WAAW,GAAGC,sBAAsB,CAAxC,UAAwC,CAAxC;;AAEAJ,OAAO,CAAPA,IAAAA,GAAAA,IAAAA;AACAA,OAAO,CAAPA,IAAAA,GAAAA,IAAAA;AACAA,OAAO,CAAPA,GAAAA,GAAAA,GAAAA;;AAEA,IAAIK,KAAK,GAAGH,OAAO,CAAnB,MAAmB,CAAnB;;AAEA,IAAII,MAAM,GAAGF,sBAAsB,CAAnC,KAAmC,CAAnC;;AAEA,IAAIG,GAAG,GAAGL,OAAO,CAAjB,IAAiB,CAAjB;;AAEA,IAAIM,IAAI,GAAGJ,sBAAsB,CAAjC,GAAiC,CAAjC;;AAEA,IAAIK,OAAO,GAAGP,OAAO,CAArB,QAAqB,CAArB;;AAEA,IAAIQ,UAAU,GAAGR,OAAO,CAAxB,aAAwB,CAAxB;;AAEA,IAAIS,WAAW,GAAGP,sBAAsB,CAAxC,UAAwC,CAAxC;;AAEA,SAAA,sBAAA,CAAA,GAAA,EAAqC;AAAE,SAAOQ,GAAG,IAAIA,GAAG,CAAVA,UAAAA,GAAAA,GAAAA,GAA8B;AAAEC,IAAAA,OAAO,EAAED;AAAX,GAArC;AAAwD;;AAE/F,IAAIE,QAAQ,GAAGC,OAAO,CAAPA,GAAAA,CAAAA,gBAAAA,IAAgCT,MAAM,CAANA,OAAAA,CAAAA,IAAAA,CAAoBK,WAAW,CAA/BL,OAAAA,EAA/C,aAA+CA,CAA/C;;AACA,IAAIU,IAAI,GAAR,EAAA;;AAEA,SAAA,IAAA,GAAgB;AACd,MAAIC,UAAU,GAAd,IAAA;;AAEA,MAAI;AACFA,IAAAA,UAAU,GAAG,CAAC,GAAGd,WAAW,CAAf,OAAA,EAAA,IAAA,EAAA,IAAA,EAAbc,IAAa,CAAbA;AADF,GAAA,CAEE,OAAA,GAAA,EAAY;AAEZ,QAAIC,GAAG,CAAHA,OAAAA,KAAJ,uBAAA,EAA6C;AAC3CA,MAAAA,GAAG,CAAHA,OAAAA,GAAAA,uCAAAA;AACAC,MAAAA,OAAO,CAAPA,KAAAA,CAAcD,GAAG,CAAjBC,KAAAA;AAFF,KAAA,MAGO;AACL,YAAA,GAAA;AACD;AACF;;AAED,GAAC,GAAGV,OAAO,CAAX,IAAA,EAAkBH,MAAM,CAANA,OAAAA,CAAAA,OAAAA,CAAlB,QAAkBA,CAAlB;;AACAE,EAAAA,IAAI,CAAJA,OAAAA,CAAAA,aAAAA,CAAAA,QAAAA,EAAAA,UAAAA;AACD;;AAED,SAAA,IAAA,GAAgB;AACd,MAAIO,OAAO,CAAPA,GAAAA,CAAJ,mBAAA,EAAqC;AAErCA,EAAAA,OAAO,CAAPA,EAAAA,CAAAA,MAAAA,EAAAA,IAAAA;AACAA,EAAAA,OAAO,CAAPA,QAAAA,CAAAA,IAAAA;AAEA,MAAI,CAACP,IAAI,CAAJA,OAAAA,CAAAA,UAAAA,CAAL,QAAKA,CAAL,EAAwC;;AAExC,MAAI;AACFQ,IAAAA,IAAI,GAAGI,IAAI,CAAJA,KAAAA,CAAWZ,IAAI,CAAJA,OAAAA,CAAAA,YAAAA,CAAlBQ,QAAkBR,CAAXY,CAAPJ;AADF,GAAA,CAEE,OAAA,GAAA,EAAY;AACZ;AACD;AACF;;AAED,SAAA,GAAA,GAAe;AACb,SAAA,IAAA;AACD","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nexports.save = save;\nexports.load = load;\nexports.get = get;\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _mkdirp = require(\"mkdirp\");\n\nvar _homeOrTmp = require(\"home-or-tmp\");\n\nvar _homeOrTmp2 = _interopRequireDefault(_homeOrTmp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FILENAME = process.env.BABEL_CACHE_PATH || _path2.default.join(_homeOrTmp2.default, \".babel.json\");\nvar data = {};\n\nfunction save() {\n  var serialised = \"{}\";\n\n  try {\n    serialised = (0, _stringify2.default)(data, null, \"  \");\n  } catch (err) {\n\n    if (err.message === \"Invalid string length\") {\n      err.message = \"Cache too large so it's been cleared.\";\n      console.error(err.stack);\n    } else {\n      throw err;\n    }\n  }\n\n  (0, _mkdirp.sync)(_path2.default.dirname(FILENAME));\n  _fs2.default.writeFileSync(FILENAME, serialised);\n}\n\nfunction load() {\n  if (process.env.BABEL_DISABLE_CACHE) return;\n\n  process.on(\"exit\", save);\n  process.nextTick(save);\n\n  if (!_fs2.default.existsSync(FILENAME)) return;\n\n  try {\n    data = JSON.parse(_fs2.default.readFileSync(FILENAME));\n  } catch (err) {\n    return;\n  }\n}\n\nfunction get() {\n  return data;\n}"],"file":"cache.js"}