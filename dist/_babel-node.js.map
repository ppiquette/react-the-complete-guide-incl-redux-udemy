{"version":3,"sources":["../node_modules/babel-cli/lib/_babel-node.js"],"names":["_pathIsAbsolute","require","_pathIsAbsolute2","_interopRequireDefault","_commander","_commander2","_module2","_module3","_util","_path","_path2","_repl","_repl2","_babelCore","babel","_interopRequireWildcard","_vm","_vm2","_babelRegister","_babelRegister2","obj","newObj","Object","default","program","pkg","process","extensions","ignore","only","plugins","presets","replPlugin","t","_ref","visitor","ModuleDeclaration","path","VariableDeclaration","Program","child","_eval","code","filename","global","_module","result","output","args","i","ignoreNext","arg","parsedArg","replStart","prompt","input","eval","useGlobal","err","callback"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _pathIsAbsolute = require(\"path-is-absolute\");\n\nvar _pathIsAbsolute2 = _interopRequireDefault(_pathIsAbsolute);\n\nvar _commander = require(\"commander\");\n\nvar _commander2 = _interopRequireDefault(_commander);\n\nvar _module2 = require(\"module\");\n\nvar _module3 = _interopRequireDefault(_module2);\n\nvar _util = require(\"util\");\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _repl = require(\"repl\");\n\nvar _repl2 = _interopRequireDefault(_repl);\n\nvar _babelCore = require(\"babel-core\");\n\nvar babel = _interopRequireWildcard(_babelCore);\n\nvar _vm = require(\"vm\");\n\nvar _vm2 = _interopRequireDefault(_vm);\n\nrequire(\"babel-polyfill\");\n\nvar _babelRegister = require(\"babel-register\");\n\nvar _babelRegister2 = _interopRequireDefault(_babelRegister);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar program = new _commander2.default.Command(\"babel-node\");\n\nprogram.option(\"-e, --eval [script]\", \"Evaluate script\");\nprogram.option(\"-p, --print [code]\", \"Evaluate script and print result\");\nprogram.option(\"-o, --only [globs]\", \"\");\nprogram.option(\"-i, --ignore [globs]\", \"\");\nprogram.option(\"-x, --extensions [extensions]\", \"List of extensions to hook into [.es6,.js,.es,.jsx]\");\nprogram.option(\"-w, --plugins [string]\", \"\", _babelCore.util.list);\nprogram.option(\"-b, --presets [string]\", \"\", _babelCore.util.list);\n\nvar pkg = require(\"../package.json\");\nprogram.version(pkg.version);\nprogram.usage(\"[options] [ -e script | script.js ] [arguments]\");\nprogram.parse(process.argv);\n\n(0, _babelRegister2.default)({\n  extensions: program.extensions,\n  ignore: program.ignore,\n  only: program.only,\n  plugins: program.plugins,\n  presets: program.presets\n});\n\nvar replPlugin = function replPlugin(_ref) {\n  var t = _ref.types;\n  return {\n    visitor: {\n      ModuleDeclaration: function ModuleDeclaration(path) {\n        throw path.buildCodeFrameError(\"Modules aren't supported in the REPL\");\n      },\n      VariableDeclaration: function VariableDeclaration(path) {\n        if (path.node.kind !== \"var\") {\n          throw path.buildCodeFrameError(\"Only `var` variables are supported in the REPL\");\n        }\n      },\n      Program: function Program(path) {\n        if (path.get(\"body\").some(function (child) {\n          return child.isExpressionStatement();\n        })) return;\n\n        path.pushContainer(\"body\", t.expressionStatement(t.identifier(\"undefined\")));\n      }\n    }\n  };\n};\n\nvar _eval = function _eval(code, filename) {\n  code = code.trim();\n  if (!code) return undefined;\n\n  code = babel.transform(code, {\n    filename: filename,\n    presets: program.presets,\n    plugins: (program.plugins || []).concat([replPlugin])\n  }).code;\n\n  return _vm2.default.runInThisContext(code, {\n    filename: filename\n  });\n};\n\nif (program.eval || program.print) {\n  var code = program.eval;\n  if (!code || code === true) code = program.print;\n\n  global.__filename = \"[eval]\";\n  global.__dirname = process.cwd();\n\n  var _module = new _module3.default(global.__filename);\n  _module.filename = global.__filename;\n  _module.paths = _module3.default._nodeModulePaths(global.__dirname);\n\n  global.exports = _module.exports;\n  global.module = _module;\n  global.require = _module.require.bind(_module);\n\n  var result = _eval(code, global.__filename);\n  if (program.print) {\n    var output = typeof result === \"string\" ? result : (0, _util.inspect)(result);\n    process.stdout.write(output + \"\\n\");\n  }\n} else {\n  if (program.args.length) {\n    var args = process.argv.slice(2);\n\n    var i = 0;\n    var ignoreNext = false;\n    args.some(function (arg, i2) {\n      if (ignoreNext) {\n        ignoreNext = false;\n        return;\n      }\n\n      if (arg[0] === \"-\") {\n        var parsedArg = program[arg.slice(2)];\n        if (parsedArg && parsedArg !== true) {\n          ignoreNext = true;\n        }\n      } else {\n        i = i2;\n        return true;\n      }\n    });\n    args = args.slice(i);\n\n    var filename = args[0];\n    if (!(0, _pathIsAbsolute2.default)(filename)) args[0] = _path2.default.join(process.cwd(), filename);\n\n    process.argv = [\"node\"].concat(args);\n    process.execArgv.unshift(__filename);\n\n    _module3.default.runMain();\n  } else {\n    replStart();\n  }\n}\n\nfunction replStart() {\n  _repl2.default.start({\n    prompt: \"> \",\n    input: process.stdin,\n    output: process.stdout,\n    eval: replEval,\n    useGlobal: true\n  });\n}\n\nfunction replEval(code, context, filename, callback) {\n  var err = void 0;\n  var result = void 0;\n\n  try {\n    if (code[0] === \"(\" && code[code.length - 1] === \")\") {\n      code = code.slice(1, -1);\n    }\n\n    result = _eval(code, filename);\n  } catch (e) {\n    err = e;\n  }\n\n  callback(err, result);\n}"],"file":"_babel-node.js"}