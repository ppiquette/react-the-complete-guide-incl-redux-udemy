{"version":3,"sources":["../node_modules/babel-core/lib/transformation/file/options/option-manager.js"],"names":["exports","_objectWithoutProperties2","require","_objectWithoutProperties3","_interopRequireDefault","_stringify","_stringify2","_assign","_assign2","_getIterator2","_getIterator3","_typeof2","_typeof3","_classCallCheck2","_classCallCheck3","_node","context","_interopRequireWildcard","_plugin2","_plugin3","_babelMessages","messages","_index","_resolvePlugin","_resolvePlugin2","_resolvePreset","_resolvePreset2","_cloneDeepWith","_cloneDeepWith2","_clone","_clone2","_merge","_merge2","_config2","_config3","_removed","_removed2","_buildConfigChain","_buildConfigChain2","_path","_path2","obj","newObj","Object","default","OptionManager","_iterator","_isArray","Array","_i","_ref","cache","fn","_plugin","container","plugin","opts","opt","options","val","alias","loc","pluginLoc","_this","rawOpts","_ref2","extendingOpts","dirname","process","option","unknownOptErr","presetConfigErr","extending","_this2","presetLoc","_val","_val2","__esModule","rest","onResolve","e","arguments","_iterator2","_isArray2","_i2","_ref3","_config","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _objectWithoutProperties2 = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _assign = require(\"babel-runtime/core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _node = require(\"../../../api/node\");\n\nvar context = _interopRequireWildcard(_node);\n\nvar _plugin2 = require(\"../../plugin\");\n\nvar _plugin3 = _interopRequireDefault(_plugin2);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _index = require(\"./index\");\n\nvar _resolvePlugin = require(\"../../../helpers/resolve-plugin\");\n\nvar _resolvePlugin2 = _interopRequireDefault(_resolvePlugin);\n\nvar _resolvePreset = require(\"../../../helpers/resolve-preset\");\n\nvar _resolvePreset2 = _interopRequireDefault(_resolvePreset);\n\nvar _cloneDeepWith = require(\"lodash/cloneDeepWith\");\n\nvar _cloneDeepWith2 = _interopRequireDefault(_cloneDeepWith);\n\nvar _clone = require(\"lodash/clone\");\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _merge = require(\"../../../helpers/merge\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _config2 = require(\"./config\");\n\nvar _config3 = _interopRequireDefault(_config2);\n\nvar _removed = require(\"./removed\");\n\nvar _removed2 = _interopRequireDefault(_removed);\n\nvar _buildConfigChain = require(\"./build-config-chain\");\n\nvar _buildConfigChain2 = _interopRequireDefault(_buildConfigChain);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar OptionManager = function () {\n  function OptionManager(log) {\n    (0, _classCallCheck3.default)(this, OptionManager);\n\n    this.resolvedConfigs = [];\n    this.options = OptionManager.createBareOptions();\n    this.log = log;\n  }\n\n  OptionManager.memoisePluginContainer = function memoisePluginContainer(fn, loc, i, alias) {\n    for (var _iterator = OptionManager.memoisedPlugins, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var cache = _ref;\n\n      if (cache.container === fn) return cache.plugin;\n    }\n\n    var obj = void 0;\n\n    if (typeof fn === \"function\") {\n      obj = fn(context);\n    } else {\n      obj = fn;\n    }\n\n    if ((typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(obj)) === \"object\") {\n      var _plugin = new _plugin3.default(obj, alias);\n      OptionManager.memoisedPlugins.push({\n        container: fn,\n        plugin: _plugin\n      });\n      return _plugin;\n    } else {\n      throw new TypeError(messages.get(\"pluginNotObject\", loc, i, typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(obj)) + loc + i);\n    }\n  };\n\n  OptionManager.createBareOptions = function createBareOptions() {\n    var opts = {};\n\n    for (var _key in _config3.default) {\n      var opt = _config3.default[_key];\n      opts[_key] = (0, _clone2.default)(opt.default);\n    }\n\n    return opts;\n  };\n\n  OptionManager.normalisePlugin = function normalisePlugin(plugin, loc, i, alias) {\n    plugin = plugin.__esModule ? plugin.default : plugin;\n\n    if (!(plugin instanceof _plugin3.default)) {\n      if (typeof plugin === \"function\" || (typeof plugin === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(plugin)) === \"object\") {\n        plugin = OptionManager.memoisePluginContainer(plugin, loc, i, alias);\n      } else {\n        throw new TypeError(messages.get(\"pluginNotFunction\", loc, i, typeof plugin === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(plugin)));\n      }\n    }\n\n    plugin.init(loc, i);\n\n    return plugin;\n  };\n\n  OptionManager.normalisePlugins = function normalisePlugins(loc, dirname, plugins) {\n    return plugins.map(function (val, i) {\n      var plugin = void 0,\n          options = void 0;\n\n      if (!val) {\n        throw new TypeError(\"Falsy value found in plugins\");\n      }\n\n      if (Array.isArray(val)) {\n        plugin = val[0];\n        options = val[1];\n      } else {\n        plugin = val;\n      }\n\n      var alias = typeof plugin === \"string\" ? plugin : loc + \"$\" + i;\n\n      if (typeof plugin === \"string\") {\n        var pluginLoc = (0, _resolvePlugin2.default)(plugin, dirname);\n        if (pluginLoc) {\n          plugin = require(pluginLoc);\n        } else {\n          throw new ReferenceError(messages.get(\"pluginUnknown\", plugin, loc, i, dirname));\n        }\n      }\n\n      plugin = OptionManager.normalisePlugin(plugin, loc, i, alias);\n\n      return [plugin, options];\n    });\n  };\n\n  OptionManager.prototype.mergeOptions = function mergeOptions(_ref2) {\n    var _this = this;\n\n    var rawOpts = _ref2.options,\n        extendingOpts = _ref2.extending,\n        alias = _ref2.alias,\n        loc = _ref2.loc,\n        dirname = _ref2.dirname;\n\n    alias = alias || \"foreign\";\n    if (!rawOpts) return;\n\n    if ((typeof rawOpts === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(rawOpts)) !== \"object\" || Array.isArray(rawOpts)) {\n      this.log.error(\"Invalid options type for \" + alias, TypeError);\n    }\n\n    var opts = (0, _cloneDeepWith2.default)(rawOpts, function (val) {\n      if (val instanceof _plugin3.default) {\n        return val;\n      }\n    });\n\n    dirname = dirname || process.cwd();\n    loc = loc || alias;\n\n    for (var _key2 in opts) {\n      var option = _config3.default[_key2];\n\n      if (!option && this.log) {\n        if (_removed2.default[_key2]) {\n          this.log.error(\"Using removed Babel 5 option: \" + alias + \".\" + _key2 + \" - \" + _removed2.default[_key2].message, ReferenceError);\n        } else {\n          var unknownOptErr = \"Unknown option: \" + alias + \".\" + _key2 + \". Check out http://babeljs.io/docs/usage/options/ for more information about options.\";\n          var presetConfigErr = \"A common cause of this error is the presence of a configuration options object without the corresponding preset name. Example:\\n\\nInvalid:\\n  `{ presets: [{option: value}] }`\\nValid:\\n  `{ presets: [['presetName', {option: value}]] }`\\n\\nFor more detailed information on preset configuration, please see https://babeljs.io/docs/en/plugins#pluginpresets-options.\";\n\n\n          this.log.error(unknownOptErr + \"\\n\\n\" + presetConfigErr, ReferenceError);\n        }\n      }\n    }\n\n    (0, _index.normaliseOptions)(opts);\n\n    if (opts.plugins) {\n      opts.plugins = OptionManager.normalisePlugins(loc, dirname, opts.plugins);\n    }\n\n    if (opts.presets) {\n      if (opts.passPerPreset) {\n        opts.presets = this.resolvePresets(opts.presets, dirname, function (preset, presetLoc) {\n          _this.mergeOptions({\n            options: preset,\n            extending: preset,\n            alias: presetLoc,\n            loc: presetLoc,\n            dirname: dirname\n          });\n        });\n      } else {\n        this.mergePresets(opts.presets, dirname);\n        delete opts.presets;\n      }\n    }\n\n    if (rawOpts === extendingOpts) {\n      (0, _assign2.default)(extendingOpts, opts);\n    } else {\n      (0, _merge2.default)(extendingOpts || this.options, opts);\n    }\n  };\n\n  OptionManager.prototype.mergePresets = function mergePresets(presets, dirname) {\n    var _this2 = this;\n\n    this.resolvePresets(presets, dirname, function (presetOpts, presetLoc) {\n      _this2.mergeOptions({\n        options: presetOpts,\n        alias: presetLoc,\n        loc: presetLoc,\n        dirname: _path2.default.dirname(presetLoc || \"\")\n      });\n    });\n  };\n\n  OptionManager.prototype.resolvePresets = function resolvePresets(presets, dirname, onResolve) {\n    return presets.map(function (val) {\n      var options = void 0;\n      if (Array.isArray(val)) {\n        if (val.length > 2) {\n          throw new Error(\"Unexpected extra options \" + (0, _stringify2.default)(val.slice(2)) + \" passed to preset.\");\n        }\n\n        var _val = val;\n        val = _val[0];\n        options = _val[1];\n      }\n\n      var presetLoc = void 0;\n      try {\n        if (typeof val === \"string\") {\n          presetLoc = (0, _resolvePreset2.default)(val, dirname);\n\n          if (!presetLoc) {\n            throw new Error(\"Couldn't find preset \" + (0, _stringify2.default)(val) + \" relative to directory \" + (0, _stringify2.default)(dirname));\n          }\n\n          val = require(presetLoc);\n        }\n\n        if ((typeof val === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(val)) === \"object\" && val.__esModule) {\n          if (val.default) {\n            val = val.default;\n          } else {\n            var _val2 = val,\n                __esModule = _val2.__esModule,\n                rest = (0, _objectWithoutProperties3.default)(_val2, [\"__esModule\"]);\n\n            val = rest;\n          }\n        }\n\n        if ((typeof val === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(val)) === \"object\" && val.buildPreset) val = val.buildPreset;\n\n        if (typeof val !== \"function\" && options !== undefined) {\n          throw new Error(\"Options \" + (0, _stringify2.default)(options) + \" passed to \" + (presetLoc || \"a preset\") + \" which does not accept options.\");\n        }\n\n        if (typeof val === \"function\") val = val(context, options, { dirname: dirname });\n\n        if ((typeof val === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(val)) !== \"object\") {\n          throw new Error(\"Unsupported preset format: \" + val + \".\");\n        }\n\n        onResolve && onResolve(val, presetLoc);\n      } catch (e) {\n        if (presetLoc) {\n          e.message += \" (While processing preset: \" + (0, _stringify2.default)(presetLoc) + \")\";\n        }\n        throw e;\n      }\n      return val;\n    });\n  };\n\n  OptionManager.prototype.normaliseOptions = function normaliseOptions() {\n    var opts = this.options;\n\n    for (var _key3 in _config3.default) {\n      var option = _config3.default[_key3];\n      var val = opts[_key3];\n\n      if (!val && option.optional) continue;\n\n      if (option.alias) {\n        opts[option.alias] = opts[option.alias] || val;\n      } else {\n        opts[_key3] = val;\n      }\n    }\n  };\n\n  OptionManager.prototype.init = function init() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    for (var _iterator2 = (0, _buildConfigChain2.default)(opts, this.log), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref3;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref3 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref3 = _i2.value;\n      }\n\n      var _config = _ref3;\n\n      this.mergeOptions(_config);\n    }\n\n    this.normaliseOptions(opts);\n\n    return this.options;\n  };\n\n  return OptionManager;\n}();\n\nexports.default = OptionManager;\n\n\nOptionManager.memoisedPlugins = [];\nmodule.exports = exports[\"default\"];"],"file":"option-manager.js"}